!function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=9)}({9:function(e,t,a){e.exports=a("J48X")},J48X:function(e,t){$(document).ready(function(){var e,t,a,n,s="Makati",r="",o="",l="",c="",i=$("#month_select").val(),d="Branch",u="Student",m=!0;function _(){$("#student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#language_student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#ssw_student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#trainee_student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#student_modal").find("input,textarea,select").val("").end(),$(".select2").trigger("change.select2")}function p(){$("li.branch_pick, li.status_pick, li.result_pick, \n        li.language_pick, li.all_pick, li.ssw_pick, li.trainee_pick").addClass("disabled").css("cursor","not-allowed"),$("a.branch_pick, a.status_pick, a.result_pick,\n        a.language_pick, a.all_pick, a.ssw_pick, a.trainee_pick").addClass("disabled").css("pointer-events","none"),$(".switch, .refresh_table").attr("disabled",!0)}function f(){switch($("li.branch_pick, li.status_pick, li.result_pick, \n        li.language_pick, li.all_pick, li.ssw_pick, li.trainee_pick").removeClass("disabled").css("cursor","pointer"),$("a.branch_pick, a.status_pick, a.result_pick,\n        a.language_pick, a.all_pick, a.ssw_pick, a.trainee_pick").removeClass("disabled").css("pointer-events","auto"),$(".refresh_table").attr("disabled",!1),u){case"SSW":$(".switch_student, .switch_trainee").attr("disabled",!1);break;case"Student":$(".switch_ssw, .switch_trainee").attr("disabled",!1);break;case"Trainee":$(".switch_student, .switch_ssw").attr("disabled",!1)}}function h(){switch(p(),t=$("#year_select option:selected").text(),a=$("#month_select option:selected").text(),function(){switch(d){case"Branch":n=s;break;case"Status":n=r;break;case"Result":n=o;break;case"Language":n=d;break;case"SSW":switch(l){case"SSW":n=l;break;case"Back Out":n="SSW "+l}case"Trainee":switch(l){case"Trainee":n=l;break;case"Back Out":n="SSW "+l}}buttons_format=[{extend:"excelHtml5",title:n+" - "+("All"==t&&"All"==a?"All":t+" "+a),exportOptions:{columns:":visible"}},"colvis"],year_buttons_format=[{extend:"excelHtml5",title:n+" - "+t,exportOptions:{columns:":visible"}},"colvis"],all_buttons_format=[{extend:"excelHtml5",title:"All",exportOptions:{columns:":visible"}},"colvis"]}(),"Branch"==d||"Status"==d||"Result"==d?(x(),C()):"Language"==d?(x(),$(".month_select").hide(),$("#month_select").next(".select2-container").hide(),$(".select_description").text("Year:")):"All"==d?($(".year_select").hide(),$("#year_select").next(".select2-container").hide(),$(".month_select").hide(),$("#month_select").next(".select2-container").hide(),$(".select_description").text("")):"SSW"==d?(x(),$(".month_select").hide(),$("#month_select").next(".select2-container").hide(),$(".select_description").text("Year:")):"Trainee"==d&&(x(),C(),$(".select_description").text("Departure:")),d){case"Branch":e=$("#year_select").val(),i=$("#month_select").val(),students_branch=$("#students_branch").DataTable({stateSave:!0,stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance,JSON.stringify(t))},stateLoadCallback:function(e){return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance))},initComplete:function(e,t){f()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:buttons_format,responsive:!0,ajax:{url:"/student_branch",data:{current_branch:s,departure_year:e,departure_month:i}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:g,order:[[3,"asc"]]});break;case"Status":e=$("#year_select").val(),i=$("#month_select").val(),students_status=$("#students_status").DataTable({stateSave:!0,stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance,JSON.stringify(t))},stateLoadCallback:function(e){return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance))},initComplete:function(e,t){f()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:buttons_format,responsive:!0,ajax:{url:"/student_status",data:{current_status:r,departure_year:e,departure_month:i}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:b,order:[[4,"asc"]]});break;case"Result":e=$("#year_select").val(),i=$("#month_select").val(),students_result=$("#students_result").DataTable({stateSave:!0,stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance,JSON.stringify(t))},stateLoadCallback:function(e){return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance))},initComplete:function(e,t){f()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:buttons_format,responsive:!0,ajax:{url:"/student_result",data:{current_result:o,departure_year:e,departure_month:i}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:v,order:[[3,"asc"]]});break;case"Language":e=$("#year_select").val(),language_students=$("#language_students").DataTable({stateSave:!0,stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance,JSON.stringify(t))},stateLoadCallback:function(e){return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance))},initComplete:function(e,t){f()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:year_buttons_format,responsive:!0,ajax:{url:"/language_student",data:{departure_year:e}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:k});break;case"SSW":e=$("#year_select").val(),ssw_students=$("#ssw_students").DataTable({stateSave:!0,stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance,JSON.stringify(t))},stateLoadCallback:function(e){return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance))},initComplete:function(e,t){f()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:year_buttons_format,responsive:!0,ajax:{url:"/ssw_student",data:{departure_year:e,current_ssw:l}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:y,order:[[4,"asc"]]});break;case"Trainee":e=$("#year_select").val(),i=$("#month_select").val(),trainee_students=$("#trainee_students").DataTable({stateSave:!0,stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance,JSON.stringify(t))},stateLoadCallback:function(e){return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance))},initComplete:function(e,t){f()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:buttons_format,responsive:!0,ajax:{url:"/trainee_student",data:{departure_year:e,departure_month:i,current_trainee:c}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:w,order:[[1,"asc"]]});break;case"All":all_students=$("#all_students").DataTable({stateSave:!0,stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance,JSON.stringify(t))},stateLoadCallback:function(e){return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance))},initComplete:function(e,t){f()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:all_buttons_format,responsive:!0,ajax:{url:"/all_student",data:{}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:S})}}$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/get_current_year",method:"get",dataType:"json",success:function(t){$("#year_select").val(t).trigger("change"),e=$("#year_select").val()}}),$(function(){var e,t,a;e=$("#scroller-anchor"),t=$("#box-primary-fixed"),a=function(){var a=$(window).scrollTop(),n=e.offset().top;$(window).width()>991&&(a>n?t.css({position:"fixed",top:"10px"}):t.css({position:"relative",top:""}))},$(window).scroll(a),a()}),$(".datepicker").datepicker({format:"yyyy-mm-dd",forceParse:!1}),$(".select2").select2(),$("body").tooltip({selector:'[data-toggle="tooltip"]',trigger:"hover"}),$('[data-toggle="tooltip"]').click(function(){$('[data-toggle="tooltip"]').tooltip("hide")}),$("#student_modal").on("shown.bs.modal",function(){$("#fname").focus()}),$("#student_modal").on("hidden.bs.modal",function(e){_(),$("#add_continuous").bootstrapToggle("off"),m=!0}),$("#add_continuous").bootstrapToggle("off"),$("input, select").attr("autocomplete","off"),$(".refresh_table").on("click",function(){h()}),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(e){1==m&&(h(),$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust())});var g=[{data:"name",name:"name"},{data:"contact",name:"contact"},{data:"program.name",name:"program"},{data:"school.name",name:"school"},{data:"benefactor.name",name:"benefactor"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"date_of_signup",name:"date_of_signup"},{data:"referral.fname",name:"referral"},{data:"status",name:"status"},{data:"coe_status",name:"coe_status"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}],b=[{data:"name",name:"name"},{data:"branch.name",name:"branch"},{data:"contact",name:"contact"},{data:"program.name",name:"program"},{data:"school.name",name:"school"},{data:"benefactor.name",name:"benefactor"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"date_of_signup",name:"date_of_signup"},{data:"referral.fname",name:"referral"},{data:"status",name:"status"},{data:"coe_status",name:"coe_status"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}],v=[{data:"name",name:"name"},{data:"branch.name",name:"branch"},{data:"program.name",name:"program"},{data:"school.name",name:"school"},{data:"status",name:"status"},{data:"coe_status",name:"coe_status"},{data:"referral.fname",name:"referral"},{data:"action",orderable:!1,searchable:!1}],k=[{data:"name",name:"name"},{data:"branch.name",name:"branch"},{data:"contact",name:"contact"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"date_of_signup",name:"date_of_signup"},{data:"referral.fname",name:"referral"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}],S=b,y=[{data:"name",name:"name"},{data:"contact",name:"contact"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"program.name",name:"program"},{data:"benefactor.name",name:"benefactor"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"date_of_signup",name:"date_of_signup"},{data:"referral.fname",name:"referral"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}],w=[{data:"name",name:"name"},{data:"contact",name:"contact"},{data:"company.name",name:"company"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"coe_status",name:"coe_status"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}];function x(){$(".year_select").show(),$("#year_select").next(".select2-container").show()}function C(){$(".month_select").show(),$("#month_select").next(".select2-container").show(),$(".select_description").text("Departure:")}function T(){$("#add_edit").val("add"),$("#l_add_edit").val("add"),$("#s_add_edit").val("add"),$("#t_add_edit").val("add")}function j(e){$.ajax({url:"/view_profile_student/"+e,method:"get",dataType:"JSON",success:function(e){$("#p_picture").attr("src","./storage/img/student/"+e.picture),e.mname?$("#p_stud_name").text(e.lname+", "+e.fname+" "+e.mname):$("#p_stud_name").text(e.lname+", "+e.fname),e.program?"Language Only"!=e.program.name&&"SSW (Careworker)"!=e.program.name&&"SSW (Hospitality)"!=e.program.name?$("#p_departure").text(e.departure_year.name+" "+e.departure_month.name):$("#p_departure").text("N/A"):$("#p_departure").text(e.departure_year.name+" "+e.departure_month.name),$("#p_contact").text(e.contact),$("#p_program").text(e.program?e.program.name:"-"),$("#p_school").text(e.school?e.school.name:"-"),$("#p_benefactor").text(e.benefactor?e.benefactor.name:"-"),$("#p_company").text(e.company?e.company.name:"-"),$("#p_birthdate").text(e.birthdate+" ("+e.age+")"),$("#p_gender").text(e.gender),$("#p_referral").text(e.referral.fname),$("#p_sign_up").text(e.date_of_signup),$("#p_medical").text(e.date_of_medical?e.date_of_medical:"-"),$("#p_completion").text(e.date_of_completion?e.date_of_completion:"-"),$("#p_branch").text(e.branch.name),$("#p_status").text(e.status),$("#p_coe_status").text(e.coe_status),$("#p_email").text(e.email),$("#p_course").text(e.course.name),$("#p_address").text(e.address),$("#p_remarks").text(e.remarks?e.remarks:"-"),$(".print_student_profile").attr("id",e.id),$(".print_student_profile").removeAttr("disabled")}})}$(".switch").on("click",function(){"Student"==$(this).find(".switch_name").text()?($(".ssw_pick, .trainee_pick").hide(),$(".branch_pick, .status_pick, .result_pick, .language_pick").show(),$("#student_list_tab #student_first").click(),u="Student"):"SSW"==$(this).find(".switch_name").text()?($(".branch_pick, .status_pick, .result_pick, .language_pick, .trainee_pick").hide(),$(".ssw_pick").show(),$("#student_list_tab #ssw_first").click(),u="SSW"):"Trainee"==$(this).find(".switch_name").text()&&($(".branch_pick, .status_pick, .result_pick, .language_pick, .ssw_pick").hide(),$(".trainee_pick").show(),$("#student_list_tab #trainee_first").click(),u="Trainee"),p()}),$(".branch_pick").on("click",function(){$(this).hasClass("disabled")||(d="Branch",s=$(this).text())}),$(".status_pick").on("click",function(){$(this).hasClass("disabled")||(d="Status",r=$(this).text())}),$(".result_pick").on("click",function(){$(this).hasClass("disabled")||(d="Result",o=$(this).text())}),$(".language_pick").on("click",function(){$(this).hasClass("disabled")||(d="Language")}),$(".all_pick").on("click",function(){$(this).hasClass("disabled")||(d="All")}),$(".ssw_pick").on("click",function(){$(this).hasClass("disabled")||(l=$(this).text(),d="SSW")}),$(".trainee_pick").on("click",function(){$(this).hasClass("disabled")||(c=$(this).text(),d="Trainee")}),$(document).on("change","#year_select, #month_select",function(){h()}),$(document).on("submit","#student_form",function(e){e.preventDefault();var t=$(".save_student"),a=document.getElementsByClassName("save_student")[0];a.disabled=!0,t.html("SAVING...");var n=new FormData($(this)[0]);$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_student",method:"POST",data:n,processData:!1,contentType:!1,success:function(e){if(0==e)return swal("Error!","File/Image format must only be .jpg | .png | .jpeg","error"),a.disabled=!1,void t.html("SAVE CHANGES");$("#add_continuous").is(":checked")?(_(),T()):$("#student_modal").modal("hide"),notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),a.disabled=!1,t.html("SAVE CHANGES"),h(),j(e)},error:function(e){swal("Error!","Something went wrong, try again.","error"),a.disabled=!1,t.html("SAVE CHANGES")}})}),$(document).on("submit","#language_student_form",function(e){e.preventDefault();var t=$(".save_language_student"),a=document.getElementsByClassName("save_language_student")[0];a.disabled=!0,t.html("SAVING...");var n=new FormData($(this)[0]);$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_language_student",method:"POST",data:n,processData:!1,contentType:!1,success:function(e){if(0==e)return swal("Error!","File/Image format must only be .jpg | .png | .jpeg","error"),a.disabled=!1,void t.html("SAVE CHANGES");$("#add_continuous").is(":checked")?(_(),T()):$("#student_modal").modal("hide"),notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),a.disabled=!1,t.html("SAVE CHANGES"),h(),j(e)},error:function(e){swal("Error!","Something went wrong, try again.","error"),a.disabled=!1,t.html("SAVE CHANGES")}})}),$(document).on("submit","#ssw_student_form",function(e){e.preventDefault();var t=$(".save_ssw_student"),a=document.getElementsByClassName("save_ssw_student")[0];a.disabled=!0,t.html("SAVING...");var n=new FormData($(this)[0]);$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_ssw_student",method:"POST",data:n,processData:!1,contentType:!1,success:function(e){if(0==e)return swal("Error!","File/Image format must only be .jpg | .png | .jpeg","error"),a.disabled=!1,void t.html("SAVE CHANGES");$("#add_continuous").is(":checked")?(_(),T()):$("#student_modal").modal("hide"),notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),a.disabled=!1,t.html("SAVE CHANGES"),h(),j(e)},error:function(e){swal("Error!","Something went wrong, try again.","error"),a.disabled=!1,t.html("SAVE CHANGES")}})}),$(document).on("submit","#trainee_student_form",function(e){e.preventDefault();var t=$(".save_trainee_student"),a=document.getElementsByClassName("save_trainee_student")[0];a.disabled=!0,t.html("SAVING...");var n=new FormData($(this)[0]);$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_trainee_student",method:"POST",data:n,processData:!1,contentType:!1,success:function(e){if(0==e)return swal("Error!","File/Image format must only be .jpg | .png | .jpeg","error"),a.disabled=!1,void t.html("SAVE CHANGES");$("#add_continuous").is(":checked")?(_(),T()):$("#student_modal").modal("hide"),notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),a.disabled=!1,t.html("SAVE CHANGES"),h(),j(e)},error:function(e){swal("Error!","Something went wrong, try again.","error"),a.disabled=!1,t.html("SAVE CHANGES")}})}),$(".add_student").on("click",function(){m=!1,T(),$("#student_type_tab a:first").tab("show"),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}),$(document).on("click",".edit_student",function(){m=!1,$('#student_type_tab a[href="#student_form"]').tab("show");var e=$(this).attr("id");$.ajax({url:"/get_student",method:"get",data:{id:e},dataType:"json",success:function(e){$("#add_edit").val("edit"),$("#id").val(e.id),$("#fname").val(e.fname),$("#mname").val(e.mname),$("#lname").val(e.lname),$("#birthdate").val(e.birthdate),$("#contact").val(e.contact),e.program&&$("#program").val(e.program.id).trigger("change"),e.school&&$("#school").val(e.school.id).trigger("change"),e.benefactor&&$("#benefactor").val(e.benefactor.id).trigger("change"),$("#address").val(e.address),$("#email").val(e.email),$("#sign_up").val(e.date_of_signup),$("#medical").val(e.date_of_medical),$("#completion").val(e.date_of_completion),$("#referral").val(e.referral.id).trigger("change"),$("#gender").val(e.gender).trigger("change"),$("#branch").val(e.branch.id).trigger("change"),$("#course").val(e.course.id).trigger("change"),$("#year").val(e.departure_year.id).trigger("change"),$("#month").val(e.departure_month.id).trigger("change"),$("#remarks").val(e.remarks),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}})}),$(document).on("click",".edit_language_student",function(){m=!1,$('#student_type_tab a[href="#language_student_form"]').tab("show");var e=$(this).attr("id");$.ajax({url:"/get_student",method:"get",data:{id:e},dataType:"json",success:function(e){$("#l_add_edit").val("edit"),$("#l_id").val(e.id),$("#l_fname").val(e.fname),$("#l_mname").val(e.mname),$("#l_lname").val(e.lname),$("#l_birthdate").val(e.birthdate),$("#l_contact").val(e.contact),$("#l_address").val(e.address),$("#l_email").val(e.email),$("#l_sign_up").val(e.date_of_signup),$("#l_referral").val(e.referral.id).trigger("change"),$("#l_gender").val(e.gender).trigger("change"),$("#l_branch").val(e.branch.id).trigger("change"),$("#l_course").val(e.course.id).trigger("change"),$("#l_year").val(e.departure_year.id).trigger("change"),$("#l_remarks").val(e.remarks),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}})}),$(document).on("click",".edit_ssw_student",function(){m=!1,$('#student_type_tab a[href="#ssw_student_form"]').tab("show");var e=$(this).attr("id");$.ajax({url:"/get_student",method:"get",data:{id:e},dataType:"json",success:function(e){$("#s_add_edit").val("edit"),$("#s_id").val(e.id),$("#s_fname").val(e.fname),$("#s_mname").val(e.mname),$("#s_lname").val(e.lname),$("#s_birthdate").val(e.birthdate),$("#s_contact").val(e.contact),e.program&&$("#s_program").val(e.program.id).trigger("change"),e.benefactor&&$("#s_benefactor").val(e.benefactor.id).trigger("change"),$("#s_address").val(e.address),$("#s_email").val(e.email),$("#s_sign_up").val(e.date_of_signup),$("#s_referral").val(e.referral.id).trigger("change"),$("#s_gender").val(e.gender).trigger("change"),$("#s_branch").val(e.branch.id).trigger("change"),$("#s_course").val(e.course.id).trigger("change"),$("#s_year").val(e.departure_year.id).trigger("change"),$("#s_remarks").val(e.remarks),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}})}),$(document).on("click",".edit_trainee_student",function(){m=!1,$('#student_type_tab a[href="#trainee_student_form"]').tab("show");var e=$(this).attr("id");$.ajax({url:"/get_student",method:"get",data:{id:e},dataType:"json",success:function(e){$("#t_add_edit").val("edit"),$("#t_id").val(e.id),$("#t_fname").val(e.fname),$("#t_mname").val(e.mname),$("#t_lname").val(e.lname),e.company&&$("#t_company").val(e.company.id).trigger("change"),$("#t_contact").val(e.contact),$("#t_gender").val(e.gender).trigger("change"),$("#t_birthdate").val(e.birthdate),$("#t_course").val(e.course.id).trigger("change"),$("#t_email").val(e.email),$("#t_address").val(e.address),$("#t_year").val(e.departure_year.id).trigger("change"),$("#t_month").val(e.departure_month.id).trigger("change"),$("#t_remarks").val(e.remarks),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}})}),$(document).on("click",".delete_student",function(){var e=$(this).attr("id");swal.fire({title:"Confirm User",text:"For security purposes, input your password again.",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Confirm",showLoaderOnConfirm:!0,preConfirm:function(t){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/confirm_user",data:{password:t},method:"POST",success:function(a){0!=a?swal({title:"Are you sure?",text:"You are about to delete a student. This may affect multiple rows",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(a){a.value&&$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/delete_student",method:"get",data:{id:e,password:t},type:"json",success:function(e){notif("Success!","This Student has been Deleted","success","glyphicon-ok"),h()}})}):swal("Password Incorrect!","Please try again","error")}})}})}),$(document).on("click",".final_student",function(){var e=$(this).attr("id");swal({title:"Go for Final School?",text:"This Student will be in Final School",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(t){t.value&&$.ajax({url:"/final_student",method:"get",data:{id:e},dataType:"text",success:function(e){notif("Success!","This Student is now in Final School!","success","glyphicon-ok"),j(e),h()}})})}),$(document).on("click",".backout_student",function(){var e=$(this).attr("id");swal({title:"Student will backout?",text:"This Student will be transferred to list of backouts",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(t){t.value&&$.ajax({url:"/backout_student",method:"get",data:{id:e},dataType:"text",success:function(e){notif("This Student has backed out!","","warning","glyphicon-warning-sign"),j(e),h()}})})}),$(document).on("click",".continue_student",function(){var e=$(this).attr("id");swal({title:"Student will apply again?",text:"This Student will be transferred to list of Active Students",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(t){t.value&&$.ajax({url:"/continue_student",method:"get",data:{id:e},dataType:"text",success:function(e){"Final School"==r?notif("Success!","This Student is out of Final School!","success","glyphicon-ok"):notif("Success!","This Student is now active again!","success","glyphicon-ok"),j(e),h()}})})}),$(document).on("click",".approve_student",function(){var e=$(this).attr("id");n="Student COE Approved?",text="Confirm that this student's COE is approved?","Trainee"==d&&(n="Student has Passed?",text="Confirm that this trainee has passed?"),swal({title:n,text:text,type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(t){t.value&&$.ajax({url:"/approve_student",method:"get",data:{id:e},dataType:"text",success:function(e){notif("Congratulations!","Student COE Approved!","success","glyphicon-ok"),j(e),h()}})})}),$(document).on("click",".deny_student",function(){var e=$(this).attr("id");n="Student COE Denied?",text="Confirm that this student's COE is denied?","Trainee"==d&&(n="Student has Failed?",text="Confirm that this trainee has failed?"),swal({title:n,text:text,type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(t){t.value&&$.ajax({url:"/deny_student",method:"get",data:{id:e},dataType:"text",success:function(e){notif("Student COE Denied","","warning","glyphicon-warning-sign"),j(e),h()}})})}),$(document).on("click",".cancel_student",function(){var e=$(this).attr("id");swal({title:"Student will Cancel?",text:"Confirm that this student decided to cancel?",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(t){t.value&&$.ajax({url:"/cancel_student",method:"get",data:{id:e},dataType:"text",success:function(e){notif("Student Cancelled","","warning","glyphicon-warning-sign"),j(e),h()}})})}),$(document).on("click",".view_profile",function(){j($(this).attr("id"))}),$("#course, #l_course, #s_course, #t_course").select2({placeholder:"Select Course",ajax:{url:"/courseAll",dataType:"json",data:function(e){return{name:e.term,page:e.page}},processResults:function(e){return{results:e.results}}}}),$("#program").select2({allowClear:!0,placeholder:"Select Program",ajax:{url:"/programAll",dataType:"json",data:function(e){return{name:e.term,page:e.page}},processResults:function(e){return{results:e.results}}}}),$("#s_program").select2({allowClear:!0,placeholder:"Select Program",ajax:{url:"/programSSW",dataType:"json",data:function(e){return{name:e.term,page:e.page}},processResults:function(e){return{results:e.results}}}}),$("#school").select2({allowClear:!0,placeholder:"Select School",ajax:{url:"/schoolAll",dataType:"json",data:function(e){return{name:e.term,page:e.page}},processResults:function(e){return{results:e.results}}}}),$("#benefactor, #s_benefactor").select2({allowClear:!0,placeholder:"Select Benefactor",ajax:{url:"/benefactorAll",dataType:"json",data:function(e){return{name:e.term,page:e.page}},processResults:function(e){return{results:e.results}}}}),$("#t_company").select2({allowClear:!0,placeholder:"Select Company",ajax:{url:"/companyAll",dataType:"json",data:function(e){return{name:e.term,page:e.page}},processResults:function(e){return{results:e.results}}}}),$(document).on("click",".print_student_profile",function(){if(!$(this).hasClass("disabled")){var e=$(this).attr("id");window.open("/studentPDF/"+e,"_blank")}})})}});