!function(t){var e={};function a(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=9)}({9:function(t,e,a){t.exports=a("J48X")},J48X:function(t,e){$(document).ready(function(){var t,e,a,n,s="Makati",r="",o="",l="",c="",i=$("#month_select").val(),d="Branch",u="Student",m=!0;function _(){$("#student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#language_student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#ssw_student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#titp_student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#student_modal").find("input,textarea,select").val("").end(),$(".select2").trigger("change.select2")}function p(){$("li.branch_pick, li.status_pick, li.result_pick, \n        li.language_pick, li.all_pick, li.ssw_pick, li.titp_pick").addClass("disabled").css("cursor","not-allowed"),$("a.branch_pick, a.status_pick, a.result_pick,\n        a.language_pick, a.all_pick, a.ssw_pick, a.titp_pick").addClass("disabled").css("pointer-events","none"),$(".switch, .refresh_table").attr("disabled",!0)}function g(){switch($("li.branch_pick, li.status_pick, li.result_pick, \n        li.language_pick, li.all_pick, li.ssw_pick, li.titp_pick").removeClass("disabled").css("cursor","pointer"),$("a.branch_pick, a.status_pick, a.result_pick,\n        a.language_pick, a.all_pick, a.ssw_pick, a.titp_pick").removeClass("disabled").css("pointer-events","auto"),$(".refresh_table").attr("disabled",!1),u){case"SSW":$(".switch_student, .switch_titp").attr("disabled",!1);break;case"Student":$(".switch_ssw, .switch_titp").attr("disabled",!1);break;case"TITP":$(".switch_student, .switch_ssw").attr("disabled",!1)}}function f(){switch(p(),e=$("#year_select option:selected").text(),a=$("#month_select option:selected").text(),function(){switch(d){case"Branch":n=s;break;case"Status":n=r;break;case"Result":n=o;break;case"Language":n=d;break;case"SSW":switch(l){case"SSW":n=l;break;case"Back Out":n="SSW "+l}case"TITP":switch(l){case"TITP":n=l;break;case"Back Out":n="SSW "+l}}buttons_format=[{extend:"excelHtml5",title:n+" - "+("All"==e&&"All"==a?"All":e+" "+a),exportOptions:{columns:":visible"}},"colvis"],year_buttons_format=[{extend:"excelHtml5",title:n+" - "+e,exportOptions:{columns:":visible"}},"colvis"],all_buttons_format=[{extend:"excelHtml5",title:"All",exportOptions:{columns:":visible"}},"colvis"]}(),"Branch"==d||"Status"==d||"Result"==d?(x(),C()):"Language"==d?(x(),$(".month_select").hide(),$("#month_select").next(".select2-container").hide(),$(".select_description").text("Year:")):"All"==d?($(".year_select").hide(),$("#year_select").next(".select2-container").hide(),$(".month_select").hide(),$("#month_select").next(".select2-container").hide(),$(".select_description").text("")):"SSW"==d?(x(),$(".month_select").hide(),$("#month_select").next(".select2-container").hide(),$(".select_description").text("Year:")):"TITP"==d&&(x(),C(),$(".select_description").text("Departure:")),d){case"Branch":t=$("#year_select").val(),i=$("#month_select").val(),students_branch=$("#students_branch").DataTable({stateSave:!0,stateSaveCallback:function(t,e){localStorage.setItem("DataTables_"+t.sInstance,JSON.stringify(e))},stateLoadCallback:function(t){return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance))},initComplete:function(t,e){g()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:buttons_format,responsive:!0,ajax:{url:"/student_branch",data:{current_branch:s,departure_year:t,departure_month:i}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:h,order:[[3,"asc"]]});break;case"Status":t=$("#year_select").val(),i=$("#month_select").val(),students_status=$("#students_status").DataTable({stateSave:!0,stateSaveCallback:function(t,e){localStorage.setItem("DataTables_"+t.sInstance,JSON.stringify(e))},stateLoadCallback:function(t){return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance))},initComplete:function(t,e){g()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:buttons_format,responsive:!0,ajax:{url:"/student_status",data:{current_status:r,departure_year:t,departure_month:i}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:b,order:[[4,"asc"]]});break;case"Result":t=$("#year_select").val(),i=$("#month_select").val(),students_result=$("#students_result").DataTable({stateSave:!0,stateSaveCallback:function(t,e){localStorage.setItem("DataTables_"+t.sInstance,JSON.stringify(e))},stateLoadCallback:function(t){return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance))},initComplete:function(t,e){g()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:buttons_format,responsive:!0,ajax:{url:"/student_result",data:{current_result:o,departure_year:t,departure_month:i}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:v,order:[[3,"asc"]]});break;case"Language":t=$("#year_select").val(),language_students=$("#language_students").DataTable({stateSave:!0,stateSaveCallback:function(t,e){localStorage.setItem("DataTables_"+t.sInstance,JSON.stringify(e))},stateLoadCallback:function(t){return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance))},initComplete:function(t,e){g()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:year_buttons_format,responsive:!0,ajax:{url:"/language_student",data:{departure_year:t}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:k});break;case"SSW":t=$("#year_select").val(),ssw_students=$("#ssw_students").DataTable({stateSave:!0,stateSaveCallback:function(t,e){localStorage.setItem("DataTables_"+t.sInstance,JSON.stringify(e))},stateLoadCallback:function(t){return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance))},initComplete:function(t,e){g()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:year_buttons_format,responsive:!0,ajax:{url:"/ssw_student",data:{departure_year:t,current_ssw:l}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:y,order:[[4,"asc"]]});break;case"TITP":t=$("#year_select").val(),i=$("#month_select").val(),titp_students=$("#titp_students").DataTable({stateSave:!0,stateSaveCallback:function(t,e){localStorage.setItem("DataTables_"+t.sInstance,JSON.stringify(e))},stateLoadCallback:function(t){return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance))},initComplete:function(t,e){g()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:buttons_format,responsive:!0,ajax:{url:"/titp_student",data:{departure_year:t,departure_month:i,current_titp:c}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:w,order:[[1,"asc"]]});break;case"All":all_students=$("#all_students").DataTable({stateSave:!0,stateSaveCallback:function(t,e){localStorage.setItem("DataTables_"+t.sInstance,JSON.stringify(e))},stateLoadCallback:function(t){return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance))},initComplete:function(t,e){g()},dom:"Bflrtip",processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,fixedColumns:!0,buttons:all_buttons_format,responsive:!0,ajax:{url:"/all_student",data:{}},columnDefs:[{defaultContent:"",targets:"_all"}],columns:S})}}$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/get_current_year",method:"get",dataType:"json",success:function(e){$("#year_select").val(e).trigger("change"),t=$("#year_select").val()}}),$(function(){var t,e,a;t=$("#scroller-anchor"),e=$("#box-primary-fixed"),a=function(){var a=$(window).scrollTop(),n=t.offset().top;$(window).width()>991&&(a>n?e.css({position:"fixed",top:"10px"}):e.css({position:"relative",top:""}))},$(window).scroll(a),a()}),$(".datepicker").datepicker({format:"yyyy-mm-dd",forceParse:!1}),$(".select2").select2(),$("body").tooltip({selector:'[data-toggle="tooltip"]',trigger:"hover"}),$('[data-toggle="tooltip"]').click(function(){$('[data-toggle="tooltip"]').tooltip("hide")}),$("#student_modal").on("shown.bs.modal",function(){$("#fname").focus()}),$("#student_modal").on("hidden.bs.modal",function(t){_(),$("#add_continuous").bootstrapToggle("off"),m=!0}),$("#add_continuous").bootstrapToggle("off"),$("input, select").attr("autocomplete","off"),$(".refresh_table").on("click",function(){f()}),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(t){1==m&&(f(),$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust())});var h=[{data:"name",name:"name"},{data:"contact",name:"contact"},{data:"program.name",name:"program"},{data:"school.name",name:"school"},{data:"benefactor.name",name:"benefactor"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"date_of_signup",name:"date_of_signup"},{data:"referral.fname",name:"referral"},{data:"status",name:"status"},{data:"coe_status",name:"coe_status"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}],b=[{data:"name",name:"name"},{data:"branch.name",name:"branch"},{data:"contact",name:"contact"},{data:"program.name",name:"program"},{data:"school.name",name:"school"},{data:"benefactor.name",name:"benefactor"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"date_of_signup",name:"date_of_signup"},{data:"referral.fname",name:"referral"},{data:"status",name:"status"},{data:"coe_status",name:"coe_status"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}],v=[{data:"name",name:"name"},{data:"branch.name",name:"branch"},{data:"program.name",name:"program"},{data:"school.name",name:"school"},{data:"status",name:"status"},{data:"coe_status",name:"coe_status"},{data:"referral.fname",name:"referral"},{data:"action",orderable:!1,searchable:!1}],k=[{data:"name",name:"name"},{data:"branch.name",name:"branch"},{data:"contact",name:"contact"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"date_of_signup",name:"date_of_signup"},{data:"referral.fname",name:"referral"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}],S=b,y=[{data:"name",name:"name"},{data:"contact",name:"contact"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"program.name",name:"program"},{data:"benefactor.name",name:"benefactor"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"date_of_signup",name:"date_of_signup"},{data:"referral.fname",name:"referral"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}],w=[{data:"name",name:"name"},{data:"program.name",name:"program"},{data:"contact",name:"contact"},{data:"company.name",name:"company"},{data:"gender",name:"gender"},{data:"birthdate",name:"birthdate"},{data:"course.name",name:"course"},{data:"email",name:"email"},{data:"coe_status",name:"coe_status"},{data:"remarks",name:"remarks"},{data:"action",orderable:!1,searchable:!1}];function x(){$(".year_select").show(),$("#year_select").next(".select2-container").show()}function C(){$(".month_select").show(),$("#month_select").next(".select2-container").show(),$(".select_description").text("Departure:")}function T(){$("#add_edit").val("add"),$("#l_add_edit").val("add"),$("#s_add_edit").val("add"),$("#t_add_edit").val("add")}function j(t){$.ajax({url:"/view_profile_student/"+t,method:"get",dataType:"JSON",success:function(t){$("#p_picture").attr("src","./storage/img/student/"+t.picture),t.mname?$("#p_stud_name").text(t.lname+", "+t.fname+" "+t.mname):$("#p_stud_name").text(t.lname+", "+t.fname),t.program?"Language Only"!=t.program.name&&"SSW (Careworker)"!=t.program.name&&"SSW (Hospitality)"!=t.program.name?$("#p_departure").text(t.departure_year.name+" "+t.departure_month.name):$("#p_departure").text("N/A"):$("#p_departure").text(t.departure_year.name+" "+t.departure_month.name),$("#p_contact").text(t.contact),$("#p_program").text(t.program?t.program.name:"-"),$("#p_school").text(t.school?t.school.name:"-"),$("#p_benefactor").text(t.benefactor?t.benefactor.name:"-"),$("#p_company").text(t.company?t.company.name:"-"),$("#p_birthdate").text(t.birthdate+" ("+t.age+")"),$("#p_civil").text(t.civil_status),$("#p_gender").text(t.gender),$("#p_referral").text(t.referral.fname),$("#p_sign_up").text(t.date_of_signup),$("#p_medical").text(t.date_of_medical?t.date_of_medical:"-"),$("#p_completion").text(t.date_of_completion?t.date_of_completion:"-"),$("#p_branch").text(t.branch.name),$("#p_status").text(t.status),$("#p_coe_status").text(t.coe_status),$("#p_email").text(t.email),$("#p_course").text(t.course.name),$("#p_address").text(t.address),$("#p_remarks").text(t.remarks?t.remarks:"-"),$(".print_student_profile").attr("id",t.id),$(".print_student_profile").removeAttr("disabled")}})}$(".switch").on("click",function(){"Student"==$(this).find(".switch_name").text()?($(".ssw_pick, .titp_pick").hide(),$(".branch_pick, .status_pick, .result_pick, .language_pick").show(),$("#student_list_tab #student_first").click(),u="Student"):"SSW"==$(this).find(".switch_name").text()?($(".branch_pick, .status_pick, .result_pick, .language_pick, .titp_pick").hide(),$(".ssw_pick").show(),$("#student_list_tab #ssw_first").click(),u="SSW"):"TITP"==$(this).find(".switch_name").text()&&($(".branch_pick, .status_pick, .result_pick, .language_pick, .ssw_pick").hide(),$(".titp_pick").show(),$("#student_list_tab #titp_first").click(),u="TITP"),p()}),$(".branch_pick").on("click",function(){$(this).hasClass("disabled")||(d="Branch",s=$(this).text())}),$(".status_pick").on("click",function(){$(this).hasClass("disabled")||(d="Status",r=$(this).text())}),$(".result_pick").on("click",function(){$(this).hasClass("disabled")||(d="Result",o=$(this).text())}),$(".language_pick").on("click",function(){$(this).hasClass("disabled")||(d="Language")}),$(".all_pick").on("click",function(){$(this).hasClass("disabled")||(d="All")}),$(".ssw_pick").on("click",function(){$(this).hasClass("disabled")||(l=$(this).text(),d="SSW")}),$(".titp_pick").on("click",function(){$(this).hasClass("disabled")||(c=$(this).text(),d="TITP")}),$(document).on("change","#year_select, #month_select",function(){f()}),$(document).on("submit","#student_form",function(t){t.preventDefault();var e=$(".save_student"),a=document.getElementsByClassName("save_student")[0];a.disabled=!0,e.html("SAVING...");var n=new FormData($(this)[0]);$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_student",method:"POST",data:n,processData:!1,contentType:!1,success:function(t){if(0==t)return swal("Error!","File/Image format must only be .jpg | .png | .jpeg","error"),a.disabled=!1,void e.html("SAVE CHANGES");$("#add_continuous").is(":checked")?(_(),T()):$("#student_modal").modal("hide"),notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),a.disabled=!1,e.html("SAVE CHANGES"),f(),j(t)},error:function(t){swal("Error!","Something went wrong, please contact IT Officer.","error"),a.disabled=!1,e.html("SAVE CHANGES")}})}),$(document).on("submit","#language_student_form",function(t){t.preventDefault();var e=$(".save_language_student"),a=document.getElementsByClassName("save_language_student")[0];a.disabled=!0,e.html("SAVING...");var n=new FormData($(this)[0]);$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_language_student",method:"POST",data:n,processData:!1,contentType:!1,success:function(t){if(0==t)return swal("Error!","File/Image format must only be .jpg | .png | .jpeg","error"),a.disabled=!1,void e.html("SAVE CHANGES");$("#add_continuous").is(":checked")?(_(),T()):$("#student_modal").modal("hide"),notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),a.disabled=!1,e.html("SAVE CHANGES"),f(),j(t)},error:function(t){swal("Error!","Something went wrong, please contact IT Officer.","error"),a.disabled=!1,e.html("SAVE CHANGES")}})}),$(document).on("submit","#ssw_student_form",function(t){t.preventDefault();var e=$(".save_ssw_student"),a=document.getElementsByClassName("save_ssw_student")[0];a.disabled=!0,e.html("SAVING...");var n=new FormData($(this)[0]);$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_ssw_student",method:"POST",data:n,processData:!1,contentType:!1,success:function(t){if(0==t)return swal("Error!","File/Image format must only be .jpg | .png | .jpeg","error"),a.disabled=!1,void e.html("SAVE CHANGES");$("#add_continuous").is(":checked")?(_(),T()):$("#student_modal").modal("hide"),notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),a.disabled=!1,e.html("SAVE CHANGES"),f(),j(t)},error:function(t){swal("Error!","Something went wrong, please contact IT Officer.","error"),a.disabled=!1,e.html("SAVE CHANGES")}})}),$(document).on("submit","#titp_student_form",function(t){t.preventDefault();var e=$(".save_titp_student"),a=document.getElementsByClassName("save_titp_student")[0];a.disabled=!0,e.html("SAVING...");var n=new FormData($(this)[0]);$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_titp_student",method:"POST",data:n,processData:!1,contentType:!1,success:function(t){if(0==t)return swal("Error!","File/Image format must only be .jpg | .png | .jpeg","error"),a.disabled=!1,void e.html("SAVE CHANGES");$("#add_continuous").is(":checked")?(_(),T()):$("#student_modal").modal("hide"),notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),a.disabled=!1,e.html("SAVE CHANGES"),f(),j(t)},error:function(t){swal("Error!","Something went wrong, please contact IT Officer.","error"),a.disabled=!1,e.html("SAVE CHANGES")}})}),$(".add_student").on("click",function(){m=!1,T(),$("#student_type_tab a:first").tab("show"),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}),$(document).on("click",".edit_student",function(){m=!1,$('#student_type_tab a[href="#student_form"]').tab("show");var t=$(this).attr("id");$.ajax({url:"/get_student",method:"get",data:{id:t},dataType:"json",success:function(t){$("#add_edit").val("edit"),$("#id").val(t.id),$("#fname").val(t.fname),$("#mname").val(t.mname),$("#lname").val(t.lname),$("#birthdate").val(t.birthdate),$("#civil").val(t.civil_status).trigger("change"),$("#contact").val(t.contact),t.program&&$("#program").val(t.program.id).trigger("change"),t.school&&$("#school").val(t.school.id).trigger("change"),t.benefactor&&$("#benefactor").val(t.benefactor.id).trigger("change"),$("#address").val(t.address),$("#email").val(t.email),$("#sign_up").val(t.date_of_signup),$("#medical").val(t.date_of_medical),$("#completion").val(t.date_of_completion),$("#referral").val(t.referral.id).trigger("change"),$("#gender").val(t.gender).trigger("change"),$("#branch").val(t.branch.id).trigger("change"),$("#course").val(t.course.id).trigger("change"),$("#year").val(t.departure_year.id).trigger("change"),$("#month").val(t.departure_month.id).trigger("change"),$("#remarks").val(t.remarks),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}})}),$(document).on("click",".edit_language_student",function(){m=!1,$('#student_type_tab a[href="#language_student_form"]').tab("show");var t=$(this).attr("id");$.ajax({url:"/get_student",method:"get",data:{id:t},dataType:"json",success:function(t){$("#l_add_edit").val("edit"),$("#l_id").val(t.id),$("#l_fname").val(t.fname),$("#l_mname").val(t.mname),$("#l_lname").val(t.lname),$("#l_birthdate").val(t.birthdate),$("#l_civil").val(t.civil_status).trigger("change"),$("#l_contact").val(t.contact),$("#l_address").val(t.address),$("#l_email").val(t.email),$("#l_sign_up").val(t.date_of_signup),$("#l_referral").val(t.referral.id).trigger("change"),$("#l_gender").val(t.gender).trigger("change"),$("#l_branch").val(t.branch.id).trigger("change"),$("#l_course").val(t.course.id).trigger("change"),$("#l_year").val(t.departure_year.id).trigger("change"),$("#l_remarks").val(t.remarks),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}})}),$(document).on("click",".edit_ssw_student",function(){m=!1,$('#student_type_tab a[href="#ssw_student_form"]').tab("show");var t=$(this).attr("id");$.ajax({url:"/get_student",method:"get",data:{id:t},dataType:"json",success:function(t){$("#s_add_edit").val("edit"),$("#s_id").val(t.id),$("#s_fname").val(t.fname),$("#s_mname").val(t.mname),$("#s_lname").val(t.lname),$("#s_birthdate").val(t.birthdate),$("#s_civil").val(t.civil_status).trigger("change"),$("#s_contact").val(t.contact),t.program&&$("#s_program").val(t.program.id).trigger("change"),t.benefactor&&$("#s_benefactor").val(t.benefactor.id).trigger("change"),$("#s_address").val(t.address),$("#s_email").val(t.email),$("#s_sign_up").val(t.date_of_signup),$("#s_referral").val(t.referral.id).trigger("change"),$("#s_gender").val(t.gender).trigger("change"),$("#s_branch").val(t.branch.id).trigger("change"),$("#s_course").val(t.course.id).trigger("change"),$("#s_year").val(t.departure_year.id).trigger("change"),$("#s_remarks").val(t.remarks),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}})}),$(document).on("click",".edit_titp_student",function(){m=!1,$('#student_type_tab a[href="#titp_student_form"]').tab("show");var t=$(this).attr("id");$.ajax({url:"/get_student",method:"get",data:{id:t},dataType:"json",success:function(t){$("#t_add_edit").val("edit"),$("#t_id").val(t.id),$("#t_fname").val(t.fname),$("#t_mname").val(t.mname),$("#t_lname").val(t.lname),$("#t_program").val(t.program.id).trigger("change"),t.company&&$("#t_company").val(t.company.id).trigger("change"),$("#t_contact").val(t.contact),$("#t_gender").val(t.gender).trigger("change"),$("#t_birthdate").val(t.birthdate),$("#t_civil").val(t.civil_status).trigger("change"),$("#t_course").val(t.course.id).trigger("change"),$("#t_email").val(t.email),$("#t_address").val(t.address),$("#t_year").val(t.departure_year.id).trigger("change"),$("#t_month").val(t.departure_month.id).trigger("change"),$("#t_remarks").val(t.remarks),$("#student_modal").modal("toggle"),$("#student_modal").modal("show")}})}),$(document).on("click",".delete_student",function(){var t=$(this).attr("id");swal.fire({title:"Confirm User",text:"For security purposes, input your password again.",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Confirm",showLoaderOnConfirm:!0,preConfirm:function(e){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/confirm_user",data:{password:e},method:"POST",success:function(a){0!=a?swal({title:"Are you sure?",text:"You are about to delete a student. This may affect multiple rows",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(a){a.value&&$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/delete_student",method:"get",data:{id:t,password:e},type:"json",success:function(t){notif("Success!","This Student has been Deleted","success","glyphicon-ok"),f()}})}):swal("Password Incorrect!","Please try again","error")}})}})}),$(document).on("click",".final_student",function(){var t=$(this).attr("id");swal({title:"Go for Final School?",text:"This Student will be in Final School",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(e){e.value&&$.ajax({url:"/final_student",method:"get",data:{id:t},dataType:"text",success:function(t){notif("Success!","This Student is now in Final School!","success","glyphicon-ok"),j(t),f()}})})}),$(document).on("click",".backout_student",function(){var t=$(this).attr("id");swal({title:"Student will backout?",text:"This Student will be transferred to list of backouts",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(e){e.value&&$.ajax({url:"/backout_student",method:"get",data:{id:t},dataType:"text",success:function(t){notif("This Student has backed out!","","warning","glyphicon-warning-sign"),j(t),f()}})})}),$(document).on("click",".continue_student",function(){var t=$(this).attr("id");swal({title:"Student will apply again?",text:"This Student will be transferred to list of Active Students",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(e){e.value&&$.ajax({url:"/continue_student",method:"get",data:{id:t},dataType:"text",success:function(t){"Final School"==r?notif("Success!","This Student is out of Final School!","success","glyphicon-ok"):notif("Success!","This Student is now active again!","success","glyphicon-ok"),j(t),f()}})})}),$(document).on("click",".approve_student",function(){var t=$(this).attr("id");n="Student COE Approved?",text="Confirm that this student's COE is approved?","TITP"==d&&(n="Student has Passed?",text="Confirm that this trainee has passed?"),swal({title:n,text:text,type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(e){e.value&&$.ajax({url:"/approve_student",method:"get",data:{id:t},dataType:"text",success:function(t){notif("Congratulations!","Student COE Approved!","success","glyphicon-ok"),j(t),f()}})})}),$(document).on("click",".deny_student",function(){var t=$(this).attr("id");n="Student COE Denied?",text="Confirm that this student's COE is denied?","TITP"==d&&(n="Student has Failed?",text="Confirm that this trainee has failed?"),swal({title:n,text:text,type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(e){e.value&&$.ajax({url:"/deny_student",method:"get",data:{id:t},dataType:"text",success:function(t){notif("Student COE Denied","","warning","glyphicon-warning-sign"),j(t),f()}})})}),$(document).on("click",".cancel_student",function(){var t=$(this).attr("id");swal({title:"Student will Cancel?",text:"Confirm that this student decided to cancel?",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then(function(e){e.value&&$.ajax({url:"/cancel_student",method:"get",data:{id:t},dataType:"text",success:function(t){notif("Student Cancelled","","warning","glyphicon-warning-sign"),j(t),f()}})})}),$(document).on("click",".view_profile",function(){j($(this).attr("id"))}),$("#course, #l_course, #s_course, #t_course").select2({placeholder:"Select Course",ajax:{url:"/courseAll",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}}),$("#program").select2({allowClear:!0,placeholder:"Select Program",ajax:{url:"/programAll",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}}),$("#s_program").select2({allowClear:!0,placeholder:"Select Program",ajax:{url:"/programSSW",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}}),$("#t_program").select2({allowClear:!0,placeholder:"Select Program",ajax:{url:"/programTITP",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}}),$("#school").select2({allowClear:!0,placeholder:"Select School",ajax:{url:"/schoolAll",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}}),$("#benefactor, #s_benefactor").select2({allowClear:!0,placeholder:"Select Benefactor",ajax:{url:"/benefactorAll",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}}),$("#t_company").select2({allowClear:!0,placeholder:"Select Company",ajax:{url:"/companyAll",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}}),$(document).on("click",".print_student_profile",function(){if(!$(this).hasClass("disabled")){var t=$(this).attr("id");window.open("/studentPDF/"+t,"_blank")}})})}});