!function(a){var e={};function t(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return a[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=a,t.c=e,t.d=function(a,e,o){t.o(a,e)||Object.defineProperty(a,e,{configurable:!1,enumerable:!0,get:o})},t.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(e,"a",e),e},t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},t.p="/",t(t.s=2)}({2:function(a,e,t){a.exports=t("7XR4")},"7XR4":function(a,e){$(document).ready(function(){var a,e,t;function e(){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/monthly_referral/"+a,method:"get",dataType:"json",success:function(a){e=$("#salesChart"),t=new Chart(e,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{data:a.makati,label:"Makati",borderColor:"#DD4B39",fill:!1},{data:a.cebu,label:"Cebu",borderColor:"#00C0EF",fill:!1},{data:a.davao,label:"Davao",borderColor:"#00A65A",fill:!1},{data:a.all,label:"All",borderColor:"#f39c12",fill:!1}]},options:{responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Month"}}],yAxes:[{display:!0,scaleLabel:{display:!0}}]}}})}})}function o(){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/monthly_referral/"+a,method:"get",dataType:"json",success:function(a){t.config.data.datasets[0].data=a.makati,t.config.data.datasets[1].data=a.cebu,t.config.data.datasets[2].data=a.davao,t.config.data.datasets[3].data=a.all,t.update()}}),n()}$("body").tooltip({selector:'[data-toggle="tooltip"]',trigger:"hover"}),$('[data-toggle="tooltip"]').click(function(){$('[data-toggle="tooltip"]').tooltip("hide")}),$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/get_current_year",method:"get",dataType:"json",success:function(t){$("#sign_ups_year").val(t),a=$("#sign_ups_year option:selected").text(),e(),n()}});setInterval(function(){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/update_signup_count",method:"get",dataType:"json",success:function(a){$(".referral_count").text(a.referral_count),$(".student_count").text(a.student_count)}}),o()},1e4);function n(){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/branch_signups/"+a,method:"get",dataType:"json",success:function(a){console.log(a);for(var e=[".makati_approved",".makati_denied",".makati_cancelled",".makati_final",".makati_active",".makati_backout",".makati_total",".cebu_approved",".cebu_denied",".cebu_cancelled",".cebu_final",".cebu_active",".cebu_backout",".cebu_total",".davao_approved",".davao_denied",".davao_cancelled",".davao_final",".davao_active",".davao_backout",".davao_total",".all_approved",".all_denied",".all_cancelled",".all_final",".all_active",".all_backout",".all_total"],t=[a.approved[0],a.denied[0],a.cancelled[0],a.final[0],a.active[0],a.backout[0],a.total[0],a.approved[1],a.denied[1],a.cancelled[1],a.final[1],a.active[1],a.backout[1],a.total[1],a.approved[2],a.denied[2],a.cancelled[2],a.final[2],a.active[2],a.backout[2],a.total[2],a.all[0],a.all[1],a.all[2],a.all[3],a.all[4],a.all[5],a.all[6]],o=0;o<e.length;o++)$(e[o]).text(t[o]);var n=0,l=0,r=0,c=0;n=a.approved[0]/a.final[0]*100,l=a.approved[1]/a.final[1]*100,r=a.approved[2]/a.final[2]*100,c=a.all[0]/a.all[3]*100,n=isNaN(n)?0:n,l=isNaN(l)?0:l,r=isNaN(r)?0:r,c=isNaN(c)?0:c,$(".makati_progress").css("width",n+"%"),$(".cebu_progress").css("width",l+"%"),$(".davao_progress").css("width",r+"%"),$(".all_progress").css("width",c+"%")}})}$(document).on("change","#sign_ups_year",function(){a=$("#sign_ups_year option:selected").text(),o(),n()})})}});