!function(t){var e={};function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=14)}({14:function(t,e,a){t.exports=a("1l0Y")},"1l0Y":function(t,e){$(document).ready(function(){var t,e,a="Student";function n(){$("#add_student_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#add_student_form").find("input,textarea,select").val("").end(),$(".select2").trigger("change.select2")}function o(){$("#tf_sb_payment_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#tf_sb_payment_form").find("input,textarea,select").val("").end(),$(".select2").trigger("change.select2")}function s(){$("li.student_pick, li.tuition_sec_pick, li.program_pick").removeClass("disabled").css("cursor","pointer"),$("a.student_pick, a.tuition_sec_pick, a.program_pick").removeClass("disabled").css("pointer-events","auto"),$(".refresh_table").attr("disabled",!1)}function l(){$("li.student_pick, li.tuition_sec_pick, li.program_pick").addClass("disabled").css("cursor","not-allowed"),$("a.student_pick, a.tuition_sec_pick, a.program_pick").addClass("disabled").css("pointer-events","none"),$(".refresh_table").attr("disabled",!0),"Student"==a?$("#student_table").DataTable({initComplete:function(t,e){s()},processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,responsive:!0,ajax:{url:"/view_tf_student",data:{}},columns:[{data:"name",name:"name"},{data:"student.program.name",name:"program"},{data:"student.contact",name:"contact"},{data:"balance",name:"balance"},{data:"sec_bond",name:"sec_bond"},{data:"class",name:"class"},{data:"student.status",name:"status"},{data:"action",orderable:!1,searchable:!1}],columnDefs:[{defaultContent:"",targets:"_all"},{className:"text-right",targets:[3,4]}]}):"Programs"==a?$("#program_table").DataTable({initComplete:function(t,e){s()},processing:!0,destroy:!0,scrollCollapse:!0,responsive:!0,ajax:{url:"/view_tf_program",data:{}},columns:[{data:"name",name:"name"},{data:"total",name:"total"},{data:"action",orderable:!1,searchable:!1}],columnDefs:[{defaultContent:"",targets:"_all"},{className:"text-right",targets:[1]}]}):$("#tuition_sec_table").DataTable({initComplete:function(t,e){s()},processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,responsive:!0,ajax:{url:"/view_tuition_sec",data:{current_tab:a}},columns:[{data:"name",name:"name"},{data:"student.student.program.name",name:"program"},{data:"class",name:"class"},{data:"amount",name:"amount"},{data:"date",name:"date"},{data:"action",orderable:!1,searchable:!1}],columnDefs:[{defaultContent:"",targets:"_all"},{className:"text-right",targets:[3]}],order:[4,"desc"]}),setTimeout(function(){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()},1e3)}function r(){$("#tf_sb_payment_modal .modal-title").text("Tuition Fee Payment"),d(t="edit",e="tuition"),$("#tf_sb_payment_modal").modal("toggle"),$("#tf_sb_payment_modal").modal("show")}function d(t,e){$("#add_edit").val(t),$("#p_type").val(e)}$(".datepicker").datepicker({format:"yyyy-mm-dd",forceParse:!1}),$(".select2").select2(),$("body").tooltip({selector:'[data-toggle="tooltip"]',trigger:"hover"}),$('[data-toggle="tooltip"]').click(function(){$('[data-toggle="tooltip"]').tooltip("hide")}),$("input, select").attr("autocomplete","off"),$("#projection_modal").on("hidden.bs.modal",function(t){$("#projection_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$(this).find("input,textarea,select").val("").end(),$(".select2").trigger("change.select2")}),$("#add_student_modal").on("hidden.bs.modal",function(t){n(),$("#expense_continuous").bootstrapToggle("off")}),$("#add_student_continuous").bootstrapToggle("off"),$("#tf_sb_payment_modal").on("hidden.bs.modal",function(t){o(),$("#tf_sb_payment_continuous").bootstrapToggle("off")}),$("#tf_sb_payment_continuous").bootstrapToggle("off"),l(),$(".refresh_table").on("click",function(){l()}),$(".student_pick, .tuition_sec_pick, .program_pick").on("click",function(){$(this).hasClass("disabled")||(a=$(this).text(),l())}),$(document).on("click",".add_student",function(){$("#add_student_modal").modal("toggle"),$("#add_student_modal").modal("show")}),$(document).on("click",".sb_payment",function(){$("#tf_sb_payment_modal .modal-title").text("Security Bond Payment"),d(t="add",e="sec_bond"),$("#tf_sb_payment_modal").modal("toggle"),$("#tf_sb_payment_modal").modal("show")}),$(document).on("click",".tf_payment",function(){r()}),$(document).on("click",".edit_tf_payment",function(){var t=$(this).attr("id");$.ajax({url:"/get_tf_payment/"+t,method:"get",dataType:"json",success:function(t){$("#p_id").val(t.id),$("#p_student").attr("disabled",!0),$("#p_student").val(t.tf_stud_id).trigger("change"),$("#p_amount").val(t.amount).trigger("change")}}),r()}),$(document).on("click",".view_student_tuition",function(){var t=$(this).attr("id");$.ajax({url:"/get_student_tuition/"+t,method:"get",dataType:"JSON",success:function(t){var e;e=t.tf_student.id,$("#tuition_fee_table").DataTable({paging:!1,info:!1,searching:!1,processing:!0,destroy:!0,scrollCollapse:!0,responsive:!0,ajax:{url:"/view_tuition_fee/"+e,data:{}},columns:[{data:"amount",name:"amount"},{data:"date",name:"date"},{data:"action",orderable:!1,searchable:!1}],columnDefs:[{defaultContent:"",targets:"_all"},{className:"text-right",targets:[0]}],order:[1,"desc"]}),$("#sec_bond_table").DataTable({paging:!1,info:!1,searching:!1,processing:!0,destroy:!0,scrollCollapse:!0,responsive:!0,ajax:{url:"/view_sec_bond/"+e,data:{}},columns:[{data:"amount",name:"amount"},{data:"date",name:"date"},{data:"action",orderable:!1,searchable:!1}],columnDefs:[{defaultContent:"",targets:"_all"},{className:"text-right",targets:[0]}],order:[1,"desc"]}),$("#student_tuition_modal .modal-title").text(t.tf_student.student.fname+" "+t.tf_student.student.lname),$(".current_class").text(t.class),$(".tf_balance").text(t.tf_payment),$(".tf_sb_total").text(t.sec_bond)}}),$("#student_tuition_modal").modal("toggle"),$("#student_tuition_modal").modal("show")}),$(document).on("click",".projection",function(){var t=$(this).attr("id");$("#prog_id").val(t),$.ajax({url:"/get_tf_projected/"+t,method:"get",dataType:"json",success:function(t){for(var e=0;e<t.tf_name_list.length;e++)if($($(".proj_name_id")[e]).val(t.tf_name_list[e]),0!=t.tf_projected.count)for(var a=0;a<t.tf_projected.length;a++)if(t.tf_name_list[e]==t.tf_projected[a].tf_name_id){$($(".proj_amount")[e]).val(t.tf_projected[a].amount),$($(".proj_date")[e]).val(t.tf_projected[a].date_of_payment),$($(".proj_remarks")[e]).val(t.tf_projected[a].remarks);break}}}),$("#projection_modal").modal("toggle"),$("#projection_modal").modal("show")}),$(document).on("submit","#projection_form",function(t){t.preventDefault();var e=$(".save_projection"),a=document.getElementsByClassName("save_projection")[0];a.disabled=!0,e.html("SAVING..."),$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_projection",method:"POST",data:$(this).serialize(),success:function(t){notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),$("#projection_modal").modal("hide"),l(),a.disabled=!1,e.html("SAVE CHANGES")},error:function(t){swal("Error!","Something went wrong, try again.","error"),a.disabled=!1,e.html("SAVE CHANGES")}})}),$(document).on("submit","#add_student_form",function(t){t.preventDefault();var e=$(".save_add_student"),a=document.getElementsByClassName("save_add_student")[0];a.disabled=!0,e.html("SAVING..."),$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_tf_student",method:"POST",data:$(this).serialize(),success:function(t){notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),$("#add_student_continuous").is(":checked")?n():$("#add_student_modal").modal("hide"),l(),a.disabled=!1,e.html("SAVE CHANGES")},error:function(t){swal("Error!","Something went wrong, try again.","error"),a.disabled=!1,e.html("SAVE CHANGES")}})}),$(document).on("submit","#tf_sb_payment_form",function(a){a.preventDefault();var n=$(".save_tf_sb_payment"),s=document.getElementsByClassName("save_tf_sb_payment")[0];s.disabled=!0,n.html("SAVING..."),$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_tf_sb_payment",method:"POST",data:$(this).serialize(),success:function(a){notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),$("#tf_sb_payment_continuous").is(":checked")?(o(),d(t,e)):$("#tf_sb_payment_modal").modal("hide"),l(),s.disabled=!1,n.html("SAVE CHANGES")},error:function(t){swal("Error!","Something went wrong, try again.","error"),s.disabled=!1,n.html("SAVE CHANGES")}})}),$("#student").on("change",function(){var t=$(this).val();null!=$(this).val()?$.ajax({url:"/get_balance_class/"+t,method:"get",dataType:"JSON",success:function(t){$("#balance").val(t.balance),$("#balance").attr("readonly",!1),$("#student_class").val(t.class)}}):($("#balance").val(""),$("#balance").attr("readonly",!0),$("#student_class").val(""))}),$("#p_student").on("change",function(){var t=$(this).val();null!=$(this).val()?$.ajax({url:"/get_student_tuition/"+t,method:"get",dataType:"JSON",success:function(t){"tuition"==$("#p_type").val()?($("#current").val(t.tf_payment),$("#total").val(""!=$("#p_amount").val()?t.tf_payment-$("#p_amount").val():t.tf_payment)):"sec_bond"==$("#p_type").val()&&($("#current").val(t.sec_bond),$("#total").val(t.sec_bond),$("#total").val(""!=$("#p_amount").val()?t.sec_bond+$("#p_amount").val():t.sec_bond)),$("#p_amount").attr("readonly",!1)}}):($("#current, #total, #p_amount, #date, #remarks").val(""),$("#p_amount").attr("readonly",!0))}),$("#p_amount").on("keyup change",function(){"tuition"==$("#p_type").val()?$("#total").val(parseFloat($("#current").val())-parseFloat($(this).val())):"sec_bond"==$("#p_type").val()&&$("#total").val(parseFloat($("#current").val())+parseFloat($(this).val()))}),$("#student").select2({allowClear:!0,placeholder:"Select Student",ajax:{url:"/t_get_student",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}}),$("#p_student").select2({allowClear:!0,placeholder:"Select Student",ajax:{url:"/get_tf_student",dataType:"json",data:function(t){return{name:t.term,page:t.page}},processResults:function(t){return{results:t.results}}}})})}});