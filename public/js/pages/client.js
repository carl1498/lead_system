!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=12)}({12:function(e,t,n){e.exports=n("KYx2")},KYx2:function(e,t){$(document).ready(function(){var e,t="Japanese School";function n(){$("#client_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$("#client_form").find("input,textarea,select").val("").end(),$(".select2").trigger("change.select2")}function a(){$("li.client_pick").removeClass("disabled").css("cursor","pointer"),$("a.client_pick").removeClass("disabled").css("pointer-events","auto"),$(".refresh_table").attr("disabled",!1)}function o(){$("li.client_pick").addClass("disabled").css("cursor","not-allowed"),$("a.client_pick").addClass("disabled").css("pointer-events","none"),$(".refresh_table").attr("disabled",!0),$("#client_table").DataTable({initComplete:function(e,t){a()},processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,responsive:!0,ajax:{url:"/view_client",data:{current_tab:t}},columns:[{data:"name",name:"name"},{data:"address",name:"address"},{data:"contact",name:"contact"},{data:"email",name:"email"},{data:"action",orderable:!1,searchable:!1}],columnDefs:[{defaultContent:"",targets:"_all"}]}),setTimeout(function(){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()},1e3)}function i(e){$("#client_pic_table").DataTable({initComplete:function(e,t){a()},processing:!0,destroy:!0,scrollX:!0,scrollCollapse:!0,responsive:!0,ajax:{url:"/view_client_pic/"+e},columns:[{data:"name",name:"name"},{data:"position",name:"position"},{data:"contact",name:"contact"},{data:"email",name:"email"},{data:"action",orderable:!1,searchable:!1}],columnDefs:[{defaultContent:"",targets:"_all"}]})}$(".select2").select2(),$("input, select").attr("autocomplete","off"),$("body").tooltip({selector:'[data-toggle="tooltip"]',trigger:"hover"}),$('[data-toggle="tooltip"]').click(function(){$('[data-toggle="tooltip"]').tooltip("hide")}),$("#client_modal").on("hidden.bs.modal",function(e){n(),$("#client_continuous").bootstrapToggle("off")}),$("#client_continuous").bootstrapToggle("off"),$("#client_view_pic_modal").on("shown.bs.modal",function(){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()}),$("#client_pic_modal").on("hidden.bs.modal",function(e){$("#client_pic_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$(this).find("input,textarea,select").val("").end(),setTimeout(function(){$("#client_view_pic_modal").modal("show")},500)}),$("#client_bank_modal").on("hidden.bs.modal",function(e){$("#client_bank_form :input.required").each(function(){this.style.setProperty("border-color","green","important")}),$(this).find("input,textarea,select").val("").end()}),$(".refresh_table").on("click",function(){o()}),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(e){o()}),o(),$(document).on("click",".client_pick",function(){t=$(this).text()}),$(document).on("click",".pic",function(){var t=$(this).attr("id");$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/get_client_pic/"+t,method:"get",dataType:"json",success:function(n){e=t,$(".title_company").text(n.name),i(n.id),$("#client_view_pic_modal").modal("show")}})}),$(document).on("click",".bank",function(){var e=$(this).attr("id");$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/get_bank/"+e,method:"get",dataType:"json",success:function(t){$("#b_client_id").val(e),$(".title_bank").text(t.client.name),"false"!=t.client_bank?($("#b_id").val(t.client_bank.id),$("#b_add_edit").val("edit"),$("#bank_name").val(t.client_bank.bank_name),$("#swift_code").val(t.client_bank.swift_code),$("#bank_branch_name").val(t.client_bank.branch_name),$("#bank_address").val(t.client_bank.address),$("#account_name").val(t.client_bank.account_name),$("#account_number").val(t.client_bank.account_number),$("#bank_contact").val(t.client_bank.contact)):$("#b_add_edit").val("add"),$("#client_bank_modal").modal("show")}})}),$(document).on("click",".add_pic",function(){$(this).attr("id"),$("#p_client_id").val(e),$("#p_add_edit").val("add"),$("#client_view_pic_modal").modal("hide"),setTimeout(function(){$("#client_pic_modal").modal("show")},500)}),$(document).on("click",".add_client",function(){$("#add_edit").val("add"),$("#client_modal").modal("toggle"),$("#client_modal").modal("show")}),$(document).on("click",".edit_client",function(){var e=$(this).attr("id");$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/get_client_pic/"+e,method:"get",dataType:"json",success:function(e){$("#id").val(e.id),$("#add_edit").val("edit"),$("#company_type").val(e.client_company_type_id).trigger("change"),$("#client_name").val(e.name),$("#client_address").val(e.address),$("#client_contact").val(e.contact),$("#client_email").val(e.email),$("#client_modal").modal("show")}})}),$(document).on("click",".edit_pic",function(){var t=$(this).attr("id");$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/get_pic/"+t,method:"get",dataType:"json",success:function(t){$("#p_client_id").val(e),$("#p_id").val(t.id),$("#p_add_edit").val("edit"),$("#p_name").val(t.name),$("#p_position").val(t.position),$("#p_contact").val(t.contact),$("#p_email").val(t.email),$("#client_view_pic_modal").modal("hide"),setTimeout(function(){$("#client_pic_modal").modal("show")},500)}})}),$(document).on("click",".delete_client",function(){var e=$(this).attr("id");swal.fire({title:"Confirm User",text:"For security purposes, input your password again.",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Confirm",showLoaderOnConfirm:!0,preConfirm:function(t){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/confirm_user",data:{password:t},method:"POST",success:function(n){0!=n?swal({title:"Are you sure?",text:"You are about to delete a client. This may affect multiple rows",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(n){n.value&&$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/delete_client",method:"get",data:{id:e,password:t},type:"json",success:function(e){notif("Deleted!","This Client has been Deleted","success","glyphicon-ok"),o()}})}):swal("Password Incorrect!","Please try again","error")}})}})}),$(document).on("click",".delete_pic",function(){var e=$(this).attr("id");swal.fire({title:"Confirm User",text:"For security purposes, input your password again.",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Confirm",showLoaderOnConfirm:!0,preConfirm:function(t){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/confirm_user",data:{password:t},method:"POST",success:function(n){0!=n?swal({title:"Are you sure?",text:"You are about to delete a client person in charge. This may affect multiple rows",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(n){n.value&&$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/delete_pic",method:"get",data:{id:e,password:t},type:"json",success:function(e){notif("Deleted!","This Client Person in Charge has been Deleted","success","glyphicon-ok"),i(e)}})}):swal("Password Incorrect!","Please try again","error")}})}})}),$(document).on("submit","#client_form",function(e){e.preventDefault(),swal.fire({title:"Confirm User",text:"For security purposes, input your password again.",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Confirm",showLoaderOnConfirm:!0,preConfirm:function(e){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/confirm_user",data:{password:e},method:"POST",success:function(t){0!=t?$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_client",method:"POST",data:$("#client_form").serialize()+"&password="+e,success:function(e){notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),$("#client_continuous").is(":checked")?(n(),$("#add_edit").val("add")):$("#client_modal").modal("hide"),o()},error:function(e){swal("Error!","Something went wrong, try again.","error")}}):swal("Password Incorrect!","Please try again","error")}})}})}),$(document).on("submit","#client_pic_form",function(e){e.preventDefault(),swal.fire({title:"Confirm User",text:"For security purposes, input your password again.",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Confirm",showLoaderOnConfirm:!0,preConfirm:function(e){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/confirm_user",data:{password:e},method:"POST",success:function(t){0!=t?$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_client_pic",method:"POST",data:$("#client_pic_form").serialize()+"&password="+e,success:function(e){notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),$("#client_pic_modal").modal("hide"),setTimeout(function(){$("#client_view_pic_modal").modal("show")},500),i(e),o()},error:function(e){swal("Error!","Something went wrong, try again.","error")}}):swal("Password Incorrect!","Please try again","error")}})}})}),$(document).on("submit","#client_bank_form",function(e){e.preventDefault(),swal.fire({title:"Confirm User",text:"For security purposes, input your password again.",input:"password",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Confirm",showLoaderOnConfirm:!0,preConfirm:function(e){$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/confirm_user",data:{password:e},method:"POST",success:function(t){0!=t?$.ajax({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},url:"/save_client_bank",method:"POST",data:$("#client_bank_form").serialize()+"&password="+e,success:function(e){notif("Success!","Record has been saved to the Database!","success","glyphicon-ok"),$("#client_bank_modal").modal("hide"),o()},error:function(e){swal("Error!","Something went wrong, try again.","error")}}):swal("Password Incorrect!","Please try again","error")}})}})})})}});